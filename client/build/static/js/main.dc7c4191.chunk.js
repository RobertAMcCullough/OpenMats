(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,t,a){e.exports=a.p+"static/media/missing-avatar.d77f2493.png"},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),s=a(9),m=a(35),c=a(72),i=a(4),p=a(5),u=a(7),d=a(6),h=a(8),f=a(12),g=a(36),y=a(27),E=a(13),v=a.n(E),b=a(18),N=a.n(b),S=function(e,t){return{type:"OPEN_MODAL",payload:[e,t]}},w=function(e){return{payload:e,type:"REFRESH_MAP"}},x=function(e){return function(t){var a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(N.a.post("/api/openmats",e));case 2:a=n.sent,t({payload:a.data.id,type:"CREATE_OPENMAT"});case 4:case"end":return n.stop()}}))}},M=function(){return{payload:null,type:"RESET_MAT_ID"}},C=function(e){return function(t){var a,n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.awrap(N.a.get("/api/openmats/".concat(e)));case 2:a=r.sent,(n=a.data).id=e,t({payload:n,type:"SHOW_OPENMAT"});case 6:case"end":return r.stop()}}))}},O=function(){return{payload:null,type:"CLEAR_PREVIOUS"}},k=function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(N.a.get("/api/gyms"));case 2:t=a.sent,e({payload:t.data,type:"SEARCH_GYMS"});case 4:case"end":return a.stop()}}))}},F=function(e,t){return function(a){var n,r;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,v.a.awrap(N.a.post("/api/gyms",e));case 2:return n=l.sent,l.next=5,v.a.awrap(N.a.post("/api/openmats",Object(y.a)({},t,{gym_id:n.data.id})));case 5:r=l.sent,a({payload:r.data.id,type:"CREATE_OPENMAT"});case 7:case"end":return l.stop()}}))}},j=function(e){return function(t){var a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(N.a.get("/api/gyms/".concat(e)));case 2:a=n.sent,t({payload:a.data,type:"SHOW_GYM"});case 4:case"end":return n.stop()}}))}},G=a(132),_=a(131),A=a(15),z=a(73),D=a(130),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:"my-1",variant:"primary",onClick:function(){return e.props.openModal("login",!0)}},"Log in"),r.a.createElement(D.a,{show:this.props.isOpen,onHide:function(){return e.props.openModal("login",!1)},size:"md"},r.a.createElement(D.a.Body,null,r.a.createElement("div",{className:"text-center",style:{width:"60%",margin:"0 auto"}},r.a.createElement("h1",{className:"mt-4 mb-3"},"Log In"),r.a.createElement("p",{className:"mb-4"},"Welcome back. Log in below."),r.a.createElement("a",{className:"btn btn-block btn-social btn-google text-center",href:"/auth/google"},r.a.createElement("span",{className:"fab fa-google"})," Log in with Google"),r.a.createElement("a",{className:"btn btn-block btn-social btn-twitter text-center",href:"/auth/twitter"},r.a.createElement("span",{className:"fab fa-twitter"})," Log in with Twitter"),r.a.createElement("div",{className:"mt-4 mb-4"},r.a.createElement("p",{className:"hr-centered"},r.a.createElement("span",null,"OR"))),r.a.createElement("form",{method:"post",action:"/auth/login",autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"username",type:"text",placeholder:"Username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"password",type:"password",placeholder:"Password",required:!0})),r.a.createElement("button",{className:"btn btn-primary",type:"submit",style:{width:"100%"}},"Log In")),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("button",{className:"button-link",style:{cursor:"pointer"},onClick:function(){return e.props.openModal("signup",!0)}},"Need to create an account?"))))))}}]),t}(r.a.Component),B=Object(s.b)((function(e){return{isOpen:e.openModal.login}}),{openModal:S})(I),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:"my-1",variant:"primary",onClick:function(){return e.props.openModal("signup",!0)}},"Sign Up"),r.a.createElement(D.a,{show:this.props.isOpen,onHide:function(){return e.props.openModal("signup",!1)},size:"md"},r.a.createElement(D.a.Body,null,r.a.createElement("div",{className:"text-center",style:{width:"60%",margin:"0 auto"}},r.a.createElement("h1",{className:"mt-4 mb-3"},"Sign Up"),r.a.createElement("p",{className:"mb-4"},"Welcome. Sign up below."),r.a.createElement("a",{className:"btn btn-block btn-social btn-google text-center",href:"/auth/google"},r.a.createElement("span",{className:"fab fa-google"})," Sign up with Google"),r.a.createElement("a",{className:"btn btn-block btn-social btn-twitter text-center",href:"/auth/twitter"},r.a.createElement("span",{className:"fab fa-twitter"})," Sign up with Twitter"),r.a.createElement("div",{className:"mt-4 mb-4"},r.a.createElement("p",{className:"hr-centered"},r.a.createElement("span",null,"OR"))),r.a.createElement("form",{method:"post",action:"/auth/signup",autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"username",type:"text",placeholder:"Username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"password",type:"password",placeholder:"Password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",name:"firstName",type:"text",placeholder:"First Name"})),r.a.createElement("button",{className:"btn btn-primary",type:"submit",style:{width:"100%"}},"Sign Up")),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("button",{className:"button-link",style:{cursor:"pointer"},onClick:function(){return e.props.openModal("login",!0)}},"Already have an account?"))))))}}]),t}(r.a.Component),L=Object(s.b)((function(e){return{isOpen:e.openModal.signup}}),{openModal:S})(T),q=a(129),R=a(38),V=768,P=992,H=a(121),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).avatar=r.a.createElement(f.b,{className:"d-flex align-items-center",to:"/profile"},r.a.createElement("img",{alt:"Profile",id:"profilePictureAvatar",style:{height:"2.5rem",width:"2.5rem",objectFit:"cover",borderRadius:"100px"},src:a.props.user.photo?a.props.user.photo:H,onError:function(){document.getElementById("profilePictureAvatar").src=H,document.getElementById("profilePictureAvatar").onerror=null}})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderMobileComponent",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a.Link,{as:f.b,to:"/advancedSearch"},"Search"),r.a.createElement(G.a.Link,{href:"/auth/logout"},"Log Out"))}},{key:"renderDesktopComponent",value:function(){return r.a.createElement("div",{className:"d-flex"},this.avatar,r.a.createElement(q.a,{style:{textTransform:"capitalize"},title:this.props.user.first_name?this.props.user.first_name:"User"},r.a.createElement(R.a.Item,{href:"/advancedSearch"},"Search"),r.a.createElement(R.a.Item,{href:"/auth/logout"},"Log Out")))}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.screenSize>V?this.renderDesktopComponent():this.renderMobileComponent())}}]),t}(r.a.Component),W=Object(s.b)((function(e){return{user:e.user,screenSize:e.screenSize}}),null)(U),K=function(e,t,a,n){e.geocode({address:t},(function(e,n){localStorage.setItem("searchTerm",t),localStorage.setItem("searchStatus",n),"OK"===n?(localStorage.setItem("lat",e[0].geometry.location.lat()),localStorage.setItem("lng",e[0].geometry.location.lng()),a.push("/openmats")):alert("Problem with search, please try again.")}))},X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:""},a.onSearchSubmit=function(e){e.preventDefault(),a.props.refreshMap(!0);var t=new window.google.maps.Geocoder;K(t,a.state.searchTerm,a.props.history),a.setState({searchTerm:""})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderAddNewButton",value:function(){var e=this;return this.props.user?r.a.createElement(G.a.Link,{as:f.b,to:"/openmats/new"},"Add A New Open Mat"):r.a.createElement(G.a.Link,{as:f.b,to:"/",onClick:function(){return e.props.openModal("login",!0)}},"Add A New Open Mat")}},{key:"renderButtons",value:function(){var e=this,t=function(){if(e.props.screenSize>P)return r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:function(t){return e.onSearchSubmit(t)},autoComplete:"off"},r.a.createElement("input",{className:"form-control mr-sm-2",onChange:function(t){e.setState({searchTerm:t.target.value})},value:e.state.searchTerm,type:"search",placeholder:"Enter Location","aria-label":"Search",required:!0}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 mr-4",type:"submit"},"Search"))};return this.props.user?r.a.createElement(r.a.Fragment,null,t(),r.a.createElement(W,null)):r.a.createElement(r.a.Fragment,null,t(),r.a.createElement(B,null),r.a.createElement("span",{className:"mx-1"}),r.a.createElement(L,null))}},{key:"navbarClass",value:function(){return this.props.screenSize>V?"mb-4":"mb-2"}},{key:"render",value:function(){return r.a.createElement("div",{className:this.navbarClass()},r.a.createElement(_.a,{sticky:"top",expand:"md"},r.a.createElement(_.a.Brand,{as:f.b,to:"/"},"OpenMats.org"),r.a.createElement(_.a.Toggle,null),r.a.createElement(_.a.Collapse,null,r.a.createElement(G.a,{className:"mr-auto"},this.renderAddNewButton()),r.a.createElement(G.a,null,this.renderButtons()))))}}]),t}(r.a.Component),Y=Object(s.b)((function(e){return{screenSize:e.screenSize,user:e.user}}),{refreshMap:w,openModal:S})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(X)),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:""},a.submitSearch=function(e){e.preventDefault(),a.props.refreshMap(!0);var t=new window.google.maps.Geocoder;K(t,a.state.searchTerm,a.props.history)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | Search",this.props.fetchTotals()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron bg-cover text-center ".concat(this.props.screenSize>992?"background":"background-small")},r.a.createElement("h1",{className:this.props.screenSize<410?"display-5":"display-4"},"Welcome to OpenMats.org"),r.a.createElement("p",{className:"lead mt-3",style:{fontWeight:"400"}},"Working hard to become the Internet's largest database of Brazilian Jiu Jitsu open mats."),r.a.createElement(f.b,{to:"/allgyms",className:"lead mt-3 font-weight-bold"},r.a.createElement("u",null,"Currently ",this.props.totals.mats," open mats at ",this.props.totals.gyms," gyms in ",this.props.totals.states," cities")," ",r.a.createElement("button",{className:"btn btn-sm btn-primary ml-2"},"See All")),r.a.createElement("p",{className:"lead text-danger mt-3 mb-5 font-weight-bold"},"Many gyms currently have restrictions around COVID-19, please call or email before arriving."),r.a.createElement("form",{className:"form my-2 my-lg-0 justify-content-center mx-auto",style:{maxWidth:"600px"},value:this.state.searchTerm,onChange:function(t){e.setState({searchTerm:t.target.value})},onSubmit:function(t){e.submitSearch(t)}},r.a.createElement("input",{className:"form-control form-control-lg mr-sm-2",type:"search",placeholder:this.props.screenSize>500?"Enter a location to search for open mats...":"Enter a search location...","aria-label":"Search",required:!0}),r.a.createElement("button",{className:"btn btn-lg btn-primary my-3",type:"submit"},"Search")),r.a.createElement(f.b,{to:"/advancedSearch",style:{fontWeight:"600"}},"Advanced Search Options"))}}]),t}(r.a.Component),Z=Object(s.b)((function(e){return{screenSize:e.screenSize,totals:e.totals}}),{refreshMap:w,fetchTotals:function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(N.a.get("/api/totals"));case 2:t=a.sent,e({type:"FETCH_TOTALS",payload:t});case 4:case"end":return a.stop()}}))}}})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(J)),$=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | About"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("p",null,"OpenMats.org was built on a SERN stack (MySQL, Express.js, React, Node.js) by ",r.a.createElement("a",{href:"https://github.com/RobertAMcCullough"},"Bob McCullough"),"."),r.a.createElement("p",null,"Other technologies used include Redux, Google's Geocoding and Maps Javascript APIs, Bootstrap, and Passport.js (Google, Facebook, and Local authentication strategies)."),r.a.createElement("p",null,"Contact Bob via ",r.a.createElement("a",{href:"mailto: robertamccullough@gmail.com"},"email"),".")))}}]),t}(r.a.Component),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",marker:{},visible:!1},a.mapRendered=!1,a.mapStyles={width:"100%",height:"60vh"},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderMap",value:function(){if(this.props.gyms.length>0&&(this.mapRendered=!0),1!==this.props.gyms.length){var e=new window.google.maps.LatLngBounds;this.props.gyms.map((function(t){return e.extend(new window.google.maps.LatLng(t.lat,t.lng)),null})),this.props.allGyms||this.refs.resultMap.map.fitBounds(e)}}},{key:"componentDidMount",value:function(){this.renderMap()}},{key:"componentDidUpdate",value:function(){!1!==this.mapRendered&&!0!==this.props.refreshMapProp||(this.mapRendered=!0,this.props.refreshMap(!1),this.renderMap())}},{key:"createMarkers",value:function(){var e=this;return this.props.gyms.map((function(t,a){return r.a.createElement(A.Marker,{key:t.id,id:t.id,position:{lat:t.lat,lng:t.lng},label:1===e.props.gyms.length||e.props.allGyms?"":(a+1).toString(),onClick:function(t){e.props.history.push("/gyms/".concat(t.id))},onMouseover:function(a,n){e.state.name!==t.name&&e.setState({name:t.name,marker:n,visible:!0})}})}))}},{key:"renderInfoWindow",value:function(){if(1!==this.props.gyms.length)return r.a.createElement(A.InfoWindow,{marker:this.state.marker,visible:this.state.visible},r.a.createElement("div",null,1===this.props.gyms.length||this.props.allGyms?r.a.createElement("h5",null,this.state.name):r.a.createElement("h5",null,this.state.marker.label,". ",this.state.name)))}},{key:"render",value:function(){var e=this;return this.props.allGyms?r.a.createElement(A.Map,{google:this.props.google,zoom:this.props.zoom,style:this.props.customMapStyles?this.props.customMapStyles:this.mapStyles,initialCenter:{lat:39,lng:-97},onClick:function(){e.setState({name:"",visible:!1})}},this.createMarkers(),this.renderInfoWindow()):r.a.createElement(A.Map,{google:this.props.google,ref:"resultMap",zoom:11,style:this.props.customMapStyles?this.props.customMapStyles:this.mapStyles,initialCenter:this.props.gyms[0]?{lat:this.props.gyms[0].lat,lng:this.props.gyms[0].lng}:{lat:0,lng:0},onClick:function(){e.setState({name:"",visible:!1})}},this.createMarkers(),this.renderInfoWindow())}}]),t}(r.a.Component),ee=Object(s.b)((function(e){return{user:e.user,refreshMapProp:e.refreshMap}}),{refreshMap:w})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(Object(g.f)(Q))),te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).searchTerm=localStorage.getItem("searchTerm"),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | All Gyms",this.props.refreshMap(!0),this.props.getGyms()}},{key:"listGyms",value:function(){var e=[];return this.props.gyms.forEach((function(t){e.push({name:t.name,id:t.id,lat:t.lat,lng:t.lng})})),e}},{key:"renderLargeResults",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"display-4 text-center my-4"},this.props.gyms.length?"All Gyms (".concat(this.props.gyms.length,")"):"All Gyms"),r.a.createElement("div",null,r.a.createElement(ee,{gyms:this.listGyms(),allGyms:!0,customMapStyles:{width:"75%",height:"70%"},zoom:4}))))}},{key:"renderMediumResults",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h4",{className:"text-center my-4"},this.props.gyms.length?"All Gyms (".concat(this.props.gyms.length,")"):"All Gyms"),r.a.createElement("div",null,r.a.createElement(ee,{gyms:this.listGyms(),allGyms:!0,customMapStyles:{width:"75%",height:"70%"},zoom:3.75}))))}},{key:"renderSmallResults",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h4",{className:"text-center my-4"},this.props.gyms.length?"All Gyms (".concat(this.props.gyms.length,")"):"All Gyms"),r.a.createElement("div",null,r.a.createElement(ee,{gyms:this.listGyms(),allGyms:!0,customMapStyles:{width:"75%",height:"70%"},zoom:2.9}))))}},{key:"render",value:function(){return this.props.screenSize>P?this.renderLargeResults():this.props.screenSize>V?this.renderMediumResults():this.renderSmallResults()}}]),t}(r.a.Component),ae=Object(s.b)((function(e){return{gyms:e.gyms,screenSize:e.screenSize}}),{getGyms:k,refreshMap:w})(te),ne=function(e){e=e.slice(0,5);var t=parseInt(e.slice(0,2)),a=t<12?" AM":" PM";return e=(t=t>12?t-12:t).toString()+e.slice(2,5)+a},re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).formatImage=function(e){return e?r.a.createElement("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:e,onError:function(e){e.target.onerror=null,e.target.src="https://i.imgur.com/PaAB0sq.jpg"},alt:"gym"}):r.a.createElement("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:"https://i.imgur.com/PaAB0sq.jpg",alt:"gym"})},a.formatCostStyles=function(e){return null===e?{color:"white"}:0===e?{color:"green",fontWeight:"bold"}:{color:"red",fontWeight:"bold"}},a.formatGiNogi=function(e){switch(e){case 1:return"Gi";case 2:return"No-Gi";case 3:case 4:return"Gi/No-Gi"}},a.formatNote=function(e){if(!e)return null;return e.length<30?e:e.slice(0,27)+"..."},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return"small"===this.props.size?r.a.createElement("div",{className:"d-flex mb-2 border",style:{width:"100%",height:"8rem"}},r.a.createElement(f.b,{to:"/gyms/".concat(this.props.mat.gym_id),className:"plain-link",style:{width:"30%"}},r.a.createElement("div",{className:"border-right",style:{height:"100%"}},this.formatImage(this.props.mat.photo))),r.a.createElement(f.b,{to:"/openmats/".concat(this.props.mat.id),className:this.props.mat.paused?"plain-link covid":"plain-link",style:{width:"69%"}},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"d-flex flex-column justify-content-between"},r.a.createElement("h5",null,this.props.mat.day," - ",ne(this.props.mat.time)),r.a.createElement("p",{style:{fontWeight:"bold"}},this.props.mat.name)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("p",null,this.formatNote(this.props.mat.notes)))))):r.a.createElement("div",{className:"d-flex mb-2 border",style:{width:"100%",height:"8rem"}},r.a.createElement(f.b,{to:"/gyms/".concat(this.props.mat.gym_id),className:"plain-link",style:{width:"30%"}},r.a.createElement("div",{className:"border-right",style:{height:"100%"}},this.formatImage(this.props.mat.photo))),r.a.createElement(f.b,{to:"/openmats/".concat(this.props.mat.id),className:this.props.mat.paused?"plain-link covid":"plain-link",style:{width:"69%"}},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("h5",{className:"pr-2",style:{width:"40%"}},this.props.mat.day," - ",ne(this.props.mat.time)),r.a.createElement("p",{style:{fontWeight:"bold"}},this.props.mat.name)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"d-flex",style:{width:"40%"}},r.a.createElement("p",{className:"pr-5"},this.formatGiNogi(this.props.mat.gi_nogi)),r.a.createElement("p",{style:this.formatCostStyles(this.props.mat.cost)},0===this.props.mat.cost?"FREE":"$".concat(this.props.mat.cost))),r.a.createElement("div",null,r.a.createElement("p",null,this.formatNote(this.props.mat.notes)))))))}}]),t}(r.a.Component),le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).searchTerm=localStorage.getItem("searchTerm"),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | Search Results",this.props.searchOpenmats(this.props.searchOptions),this.props.getGyms()}},{key:"componentDidUpdate",value:function(){this.searchTerm!==localStorage.getItem("searchTerm")&&(this.searchTerm=localStorage.getItem("searchTerm"),this.props.searchOpenmats())}},{key:"renderGyms",value:function(){if(void 0===this.props.openMats)return null;var e=[];return this.props.openMats.forEach((function(t){var a=!0;e.forEach((function(e){e.name===t.name&&(e.count++,a=!1)})),!0===a&&e.push({name:t.name,count:1,id:t.gym_id})})),r.a.createElement("div",{className:"mb-3"},"Open Mats Found at:",e.map((function(e){return r.a.createElement("div",{className:"my-1",key:e.id},r.a.createElement(f.b,{className:"plain-link",to:"/gyms/".concat(e.id)},e.name," (",e.count,")"))})))}},{key:"listGyms",value:function(){if(void 0===this.props.openMats)return[];this.props.refreshMap(!0);var e=[];return this.props.openMats.forEach((function(t){var a=!0;e.forEach((function(e){e.name===t.name&&(a=!1)})),!0===a&&e.push({name:t.name,id:t.gym_id,lat:t.lat,lng:t.lng})})),e}},{key:"renderResults",value:function(e){if(!this.props.openMats)return null;if(!this.props.openMats.length)return r.a.createElement("div",{className:"text-center"},"No Open Mats Found for ",this.searchTerm);var t=this.props.openMats.map((function(t){return r.a.createElement(re,{size:e,key:t.id,mat:t})}));return r.a.createElement("div",{style:{position:"relative",zIndex:"10"}},t)}},{key:"renderLargeResults",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"display-4 text-center my-4"},this.props.openMats.length?"Search Results (".concat(this.props.openMats.length,")"):"Search Results"),r.a.createElement("div",{className:"text-center mt-2 mb-4"},r.a.createElement(f.b,{to:"/advancedSearch"},"Advanced Search"))),r.a.createElement("div",{className:"col-4 d-flex align-items-center"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-7"},r.a.createElement("div",null,this.renderResults())),r.a.createElement("div",{className:"col-5 px-0"},r.a.createElement("div",{className:"sticky-top"},this.props.openMats.length?r.a.createElement(ee,{gyms:this.listGyms()}):null)))))}},{key:"renderMediumResults",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,r.a.createElement("div",{className:"display-4 text-center my-4"},this.props.openMats.length?"Search Results (".concat(this.props.openMats.length,")"):"Search Results"),this.props.openMats.length?r.a.createElement("div",{style:{height:"55vh"}},this.props.openMats.length?r.a.createElement(ee,{customMapStyles:{width:"75%",height:"50vh"},gyms:this.listGyms()}):null):null,this.renderResults(),r.a.createElement("div",{className:"text-center my-2"},r.a.createElement(f.b,{to:"/advancedSearch"},"Advanced Search")))))}},{key:"renderSmallResults",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,r.a.createElement("div",{className:"display-4 text-center my-4"},this.props.openMats.length?"Search Results (".concat(this.props.openMats.length,")"):"Search Results"),this.props.openMats.length?r.a.createElement("div",{style:{height:"55vh"}},"                        ",this.props.openMats.length?r.a.createElement(ee,{customMapStyles:{width:"75%",height:"50vh"},gyms:this.listGyms()}):null):null,this.renderResults("small"),r.a.createElement("div",{className:"text-center my-2"},r.a.createElement(f.b,{to:"/advancedSearch"},"Advanced Search")))))}},{key:"renderSize",value:function(){return this.props.screenSize>P?this.renderLargeResults():this.props.screenSize>V?this.renderMediumResults():this.renderSmallResults()}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderSize())}}]),t}(r.a.Component),oe=Object(s.b)((function(e){return{screenSize:e.screenSize,openMats:e.openMats,searchOptions:e.searchOptions}}),{searchOpenmats:function(e){return function(t){var a,n,r;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a=localStorage.getItem("lat"),n=localStorage.getItem("lng"),e&&e.searchTerm){l.next=8;break}return l.next=5,v.a.awrap(N.a.get("/api/openmats?lat=".concat(a,"&lng=").concat(n)));case 5:r=l.sent,l.next=11;break;case 8:return l.next=10,v.a.awrap(N.a.get("/api/openmats?lat=".concat(a,"&lng=").concat(n,"&options=").concat(JSON.stringify(e))));case 10:r=l.sent;case 11:t({payload:r.data,type:"SEARCH_OPENMATS"});case 12:case"end":return l.stop()}}))}},getGyms:k,refreshMap:w})(le),se=a(49),me=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:"",distance:50,Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:"",timeMorning:"",timeDay:"",timeEvening:"",gi:"",nogi:"",free:""},a.submitSearch=function(e){e.preventDefault(),a.props.refreshMap(!0),a.props.setSearchOptions(a.state);var t=new window.google.maps.Geocoder;K(t,a.state.searchTerm,a.props.history,a.state)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | Advanced Search"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"form",onSubmit:function(t){return e.submitSearch(t)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"location-input"},"Location"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{className:"form-control",id:"location-input",type:"text",placeholder:"Enter Location",required:!0,value:this.state.searchTerm,onChange:function(t){return e.setState({searchTerm:t.target.value})}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"distance-input"},"Distance"),r.a.createElement("div",{className:"col-sm-6 d-flex align-items-center"},r.a.createElement("input",{className:"form-control",id:"distance-input",type:"range",min:"0",max:"500",value:this.state.distance,onChange:function(t){return e.setState({distance:t.target.value})}}),r.a.createElement("div",{style:{width:"25%",textAlign:"end"}},this.state.distance," Miles"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label",htmlFor:"day-input"},"Day"),r.a.createElement("div",{className:"col-sm-6"},me.map((function(t){return r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:t,onChange:function(a){return e.setState(Object(se.a)({},t,!e.state[t]))}}),r.a.createElement("label",{className:"form-check-label",htmlFor:t},t))})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},"Time"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"time-1",onChange:function(t){return e.setState({timeMorning:!e.state.timeMorning})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"time-1"},"Morning (before 11:00)")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"time-2",onChange:function(t){return e.setState({timeDay:!e.state.timeDay})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"time-2"},"Day (11:00 - 4:00)")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"time-3",onChange:function(t){return e.setState({timeEvening:!e.state.timeEvening})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"time-3"},"Evening (after 4:00)")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},"Gi or No-Gi"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gi-1",onChange:function(t){return e.setState({gi:!e.state.gi})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"gi-1"},"Gi")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"gi-2",onChange:function(t){return e.setState({nogi:!e.state.nogi})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"gi-2"},"No-Gi")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-2"},"Cost"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"cost",onChange:function(t){return e.setState({free:!e.state.free})}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"cost"},"Free")))),r.a.createElement("button",{className:"btn btn-primary my-3"},"Search")))}}]),t}(r.a.Component),ie=Object(s.b)(null,{refreshMap:w,setSearchOptions:function(e){return{payload:e,type:"SET_SEARCH_OPTIONS"}}})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(ce)),pe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onButtonClick=function(e){e.preventDefault(),a.props.user?a.props.matId?a.props.history.push("/openmats/".concat(a.props.matId,"/edit")):a.props.history.push("/gyms/".concat(a.props.gymId,"/edit")):a.props.openModal("login",!0)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm ".concat(this.props.formatting),onClick:this.onButtonClick},r.a.createElement("span",{className:"fa fa-pencil mr-2"}),this.props.buttonText?this.props.buttonText:"Edit")}}]),t}(r.a.Component),ue=Object(s.b)((function(e){return{user:e.user}}),{openModal:S})(Object(g.f)(pe)),de=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onTriggerClick=function(){a.props.user.id!==a.props.createdBy&&1!==a.props.user.id?alert("You must be the person who created this post in order to delete it. If you would still like it to be removed, please contact us via the contact page. Thanks!"):a.props.openModal("delete",!0)},a.onDeleteClick=function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.openModal("delete",!1),!a.props.mat){e.next=9;break}return e.next=4,v.a.awrap(N.a.delete("/api/openmats/".concat(a.props.mat.id)));case 4:200===e.sent.status?alert("Open Mat Deleted Successfully"):alert("Problem Deleting Open Mat"),a.props.history.push("/gyms/".concat(a.props.mat.gym_id)),e.next=14;break;case 9:return e.next=11,v.a.awrap(N.a.delete("/api/gyms/".concat(a.props.gym.gym_id)));case 11:200===e.sent.status?alert("Gym Deleted Successfully"):alert("Problem Deleting Gym"),a.props.history.push("/");case 14:case"end":return e.stop()}}))},a.onCancelClick=function(){a.props.openModal("delete",!1)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:"btn btn-danger btn-sm",variant:"primary",onClick:this.onTriggerClick},r.a.createElement("span",{className:"fa fa-trash-o mr-2"}),"Delete"),r.a.createElement(D.a,{show:this.props.isOpen,onHide:function(){return e.props.openModal("delete",!1)},size:"md"},r.a.createElement(D.a.Body,null,r.a.createElement("div",{className:"text-center",style:{width:"60%",margin:"0 auto"}},r.a.createElement("p",{className:"mb-4"},"Are you sure you want to delete ",this.props.mat?"this open mat?":this.props.gym.name+"? All open mats associated with it will also be deleted."),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement(z.a,{className:"btn btn-danger px-4",onClick:this.onDeleteClick},"Yes"),r.a.createElement(z.a,{className:"btn btn-secondary px-4",onClick:this.onCancelClick},"No"))))))}}]),t}(r.a.Component),he=Object(s.b)((function(e){return{isOpen:e.openModal.delete,user:e.user}}),{openModal:S})(Object(g.f)(de)),fe=function(e){var t=new Date(e).toString();return"0"===(t=(t=t.slice(4,15)).slice(0,6)+", "+t.slice(6,15))[4]&&(t=t.slice(0,4)+t.slice(5,17)),t},ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).formatGiNogi=function(e){switch(e){case 1:return"Gi";case 2:return"No-Gi";case 3:return"Mixed Gi/No-Gi";case 4:return"Alternates Gi/No-Gi";default:return"Unknown"}},a.formatSize=function(e){switch(e){case"S":return"Usually less than 10 people";case"M":return"Usually 10-20 people";case"L":return"Usually 20-30 people";case"XL":return"Usually 30+ people";default:return"Unknown"}},a.formatCost=function(e){return 0===e?"Free":e>0?"$".concat(e):"Unknown"},a.formatCallFirst=function(e){return 0===e?"No need, just show up!":1===e?"Yes, please call ahead.":"Unknown"},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org",this.props.clearPrevious(),this.props.showOpenmat(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){"OpenMats.org"===document.title&&this.props.mat&&this.props.mat.name&&(document.title="OpenMats.org | ".concat(this.props.mat.name)),this.props.mat&&fe(this.props.mat.last_updated)}},{key:"renderTable",value:function(){var e=this;return r.a.createElement("tr",{className:"pointer-on-hover",key:this.props.mat.id,onClick:function(){return e.props.history.push("/openmats/".concat(e.props.mat.id))}},r.a.createElement("td",null,this.props.mat.day," ",ne(this.props.mat.time)),r.a.createElement("td",null,this.formatGiNogi(this.props.mat.gi_nogi)),r.a.createElement("td",null,this.formatSize(this.props.mat.size)),r.a.createElement("td",null,this.formatCost(this.props.mat.cost)))}},{key:"renderFooter",value:function(e){return this.props.screenSize>V?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("p",{className:"mx-4 my-0"},"Last Updated: ",fe(e.last_updated)),r.a.createElement("div",null,r.a.createElement(ue,{formatting:"mr-4",matId:this.props.mat.id}),r.a.createElement(he,{createdBy:this.props.mat.mat_created_by,mat:this.props.mat})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"my-3"},r.a.createElement(ue,{formatting:"mr-4",matId:this.props.mat.id}),r.a.createElement(he,{createdBy:this.props.mat.mat_created_by,mat:this.props.mat})),r.a.createElement("p",null,"Last Updated: ",fe(e.last_updated))))}},{key:"renderDetails",value:function(){var e=this.props.mat;return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Gym"),r.a.createElement("td",null,r.a.createElement(f.b,{to:"/gyms/".concat(e.gym_id),className:"plain-link"},e.name))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Time"),r.a.createElement("td",null,e.day," ",ne(e.time))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Address"),r.a.createElement("td",null,e.street," ",e.city,", ",e.state)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Phone"),r.a.createElement("td",null,e.phone)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"8rem"},scope:"row"},"Gi or No-Gi"),r.a.createElement("td",null,this.formatGiNogi(e.gi_nogi))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Size"),r.a.createElement("td",null,this.formatSize(e.size))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Cost"),r.a.createElement("td",null,this.formatCost(e.cost))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Call First?"),r.a.createElement("td",null,this.formatCallFirst(e.call_first))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Notes"),r.a.createElement("td",null,e.notes)))),this.renderFooter(e))}},{key:"render",value:function(){return this.props.mat?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f.b,{to:"/gyms/".concat(this.props.mat.gym_id),className:"plain-link"},r.a.createElement("div",{className:"display-4 text-center my-4"},"Open Mat at ",this.props.mat.name)),r.a.createElement(f.b,{to:"/gyms/".concat(this.props.mat.gym_id)},r.a.createElement("div",{style:{fontSize:"1.2rem"},className:"text-center mb-4"},"See all open mats at this location")),r.a.createElement("div",null,this.renderDetails()))):r.a.createElement("div",null)}}]),t}(r.a.Component),ye=Object(s.b)((function(e){return{screenSize:e.screenSize,mat:e.matDetails}}),{showOpenmat:C,clearPrevious:O})(Object(g.f)(ge)),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onButtonClick=function(e){e.preventDefault(),a.props.user?a.props.history.push("/openmats/".concat(a.props.gymId,"/new")):a.props.openModal("login",!0)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:this.onButtonClick},r.a.createElement("span",{className:"fa fa-plus mr-2"}),this.props.buttonText?this.props.buttonText:"Edit")}}]),t}(r.a.Component),ve=Object(s.b)((function(e){return{user:e.user}}),{openModal:S})(Object(g.f)(Ee)),be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).formatImage=function(e){return e?r.a.createElement("img",{className:"card-img-top border-bottom",style:{height:"40vh"},src:a.props.gym[0].photo,onError:function(e){e.target.onerror=null,e.target.src="https://i.imgur.com/PaAB0sq.jpg"},alt:"gym"}):r.a.createElement("img",{className:"card-img-top border-bottom",style:{height:"40vh"},src:"https://i.imgur.com/PaAB0sq.jpg",alt:"gym"})},a.formatGiNogi=function(e){switch(e){case 1:return"Gi";case 2:return"No-Gi";case 3:return"Mixed Gi/No-Gi";case 4:return"Alternates Gi/No-Gi";default:return"Unknown"}},a.formatSize=function(e){switch(e){case"S":return"< 10 people";case"M":return"10-20 people";case"L":return"20-30 people";case"XL":return"30+ people";default:return"Unknown"}},a.formatCost=function(e){return 0===e?"Free":e>0?"$".concat(e):"Unknown"},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org",this.props.clearPrevious(),this.props.showGym(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){"OpenMats.org"===document.title&&this.props.gym&&this.props.gym[0].name&&(document.title="OpenMats.org | ".concat(this.props.gym[0].name))}},{key:"renderTable",value:function(){var e=this;return this.props.gym.map((function(t){return r.a.createElement("tr",{className:"pointer-on-hover",key:t.id,onClick:function(){return e.props.history.push("/openmats/".concat(t.id))}},r.a.createElement("td",null,t.day," ",ne(t.time)),r.a.createElement("td",null,e.formatGiNogi(t.gi_nogi)),e.props.screenSize>V?r.a.createElement("td",null,e.formatSize(t.size)):null,r.a.createElement("td",null,e.formatCost(t.cost)))}))}},{key:"renderHeader",value:function(e){return this.props.screenSize>P?r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("p",{className:"card-text"},r.a.createElement("i",{className:"far fa-map mr-2"}),r.a.createElement("a",{className:"plain-link",href:"https://www.google.com/maps/dir/?api=1&destination=".concat(e.lat,",").concat(e.lng),target:"_blank"},e.street," ",e.city,", ",e.state)),r.a.createElement("p",{className:"card-text"},r.a.createElement("i",{className:"fas fa-phone mr-2"}),e.phone?e.phone:"Unknown"),e.website?r.a.createElement("p",{className:"card-text"},r.a.createElement("a",{className:"plain-link",href:e.website,target:"_blank"},r.a.createElement("i",{className:"fas fa-globe mr-2"}),"Website")):null):r.a.createElement("div",{className:"text-centered"},r.a.createElement("p",{className:"card-text"},r.a.createElement("i",{className:"far fa-map mr-2"}),r.a.createElement("a",{className:"plain-link",href:"https://www.google.com/maps/dir/?api=1&destination=".concat(e.lat,",").concat(e.lng),target:"_blank"},e.street," ",e.city,", ",e.state)),r.a.createElement("p",{className:"card-text"},r.a.createElement("i",{className:"fas fa-phone mr-2"}),e.phone?e.phone:"Unknown"),e.website?r.a.createElement("p",{className:"card-text"},r.a.createElement("a",{className:"plain-link",href:e.website,target:"_blank"},r.a.createElement("i",{className:"fas fa-globe mr-2"}),"Website")):null)}},{key:"renderDetails",value:function(){var e=this.props.gym[0];return r.a.createElement("div",{className:"card text-center mb-3"},this.formatImage(this.props.gym[0].photo),r.a.createElement("div",{className:"card-body"},this.renderHeader(e)),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Open Mat Time"),r.a.createElement("th",{scope:"col"},"Gi or No-Gi"),this.props.screenSize>V?r.a.createElement("th",{scope:"col"},"Size"):null,r.a.createElement("th",{scope:"col"},"Cost"))),r.a.createElement("tbody",null,this.renderTable())))}},{key:"renderLarge",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"display-4 text-center my-4"},this.props.gym[0].name)),r.a.createElement("div",{className:"col-4"})),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",null,this.renderDetails()),r.a.createElement("div",{className:"d-flex justify-content-between pr-3"},r.a.createElement(ve,{gymId:this.props.gym[0].gym_id,buttonText:"Add New Open Mat"}),r.a.createElement(ue,{gymId:this.props.gym[0].gym_id,buttonText:"Edit Gym"}))),r.a.createElement("div",{className:"col-3"},r.a.createElement(ee,{gyms:[this.props.gym[0]]})))))}},{key:"renderMedium",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{style:{height:"35vh"}},r.a.createElement(ee,{customMapStyles:{width:"658px",height:"30vh"},gyms:[this.props.gym[0]]})),r.a.createElement("div",null,this.renderDetails()),r.a.createElement("div",{className:"d-flex justify-content-between pr-3 mb-4"},r.a.createElement(ve,{gymId:this.props.gym[0].gym_id,buttonText:"Add New Open Mat"}),r.a.createElement(ue,{gymId:this.props.gym[0].gym_id,buttonText:"Edit Gym"}))))}},{key:"renderSmall",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{style:{height:"35vh"}},r.a.createElement(ee,{customMapStyles:{width:"478px",height:"30vh"},gyms:[this.props.gym[0]]})),r.a.createElement("div",null,this.renderDetails()),r.a.createElement("div",{className:"d-flex justify-content-between pr-3 mb-4"},r.a.createElement(ve,{gymId:this.props.gym[0].gym_id,buttonText:"Add New Open Mat"}),r.a.createElement(ue,{gymId:this.props.gym[0].gym_id,buttonText:"Edit Gym"}))))}},{key:"render",value:function(){return this.props.gym&&this.props.gym[0].id?this.props.screenSize>P?this.renderLarge():this.props.screenSize>V?this.renderMedium():this.renderSmall():r.a.createElement("div",null)}}]),t}(r.a.Component),Ne=Object(s.b)((function(e){return{screenSize:e.screenSize,gym:e.gymDetails}}),{showGym:j,clearPrevious:O})(Object(g.f)(be)),Se=["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"],we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={gym:{name:"",street:"",city:"",state:"",phone:"",photo:"",lat:"",lng:""},openmat:{day:"",time:"",cost:"",call_first:"",size:"",gi_nogi:"",notes:""},selectedGym:0,selectedGymName:""},a.onFormSubmit=function(e){(e.preventDefault(),-1===a.state.selectedGym)?(new window.google.maps.Geocoder).geocode({address:"".concat(a.state.gym.street,", ").concat(a.state.gym.city,", ").concat(a.state.gym.state)},(function(e,t){if("OK"===t){var n=a.state.gym;n.lat=e[0].geometry.location.lat(),n.lng=e[0].geometry.location.lng(),a.setState({gym:n}),a.props.createGym(a.state.gym,a.state.openmat)}else alert("Error with finding location - please check street address and city")})):a.props.createOpenmat(Object(y.a)({},a.state.openmat,{gym_id:a.state.selectedGym}));var t=setInterval((function(){a.props.newMatId&&(a.props.history.push("/openmats/".concat(a.props.newMatId)),a.props.resetMatId(),clearInterval(t))}),20)},a.onSelectedGymChange=function(e){a.setState({selectedGym:parseInt(e.target.value)}),a.props.gyms.forEach((function(t){t.id===parseInt(e.target.value)&&a.setState({selectedGymName:t.name})}))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | Add New Open Mat",this.props.getGyms()}},{key:"renderGymOptions",value:function(){if(this.props.gyms)return this.props.gyms.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},"".concat(e.city,", ").concat(e.state," -  ").concat(e.name))}))}},{key:"renderSelectGymButton",value:function(){var e=this;return r.a.createElement("div",{className:"mx-auto",style:this.props.screenSize>P?{width:"70%"}:{width:"100%"}},r.a.createElement("div",{className:"d-flex align-items-start justify-content-around"},r.a.createElement("form",{style:this.props.screenSize>P?{flex:"2"}:{flex:"3"},className:"",onSubmit:function(e){return e.preventDefault()},autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{required:!0,className:"form-control",type:"text",id:"chooseGym",value:this.state.selectedGym,onChange:function(t){e.onSelectedGymChange(t)}},r.a.createElement("option",{value:0,disabled:!0,defaultValue:!0},this.props.screenSize<500?"Existing Gym":"Choose An Existing Gym"),r.a.createElement("option",{value:-1},"Add A New Gym"),this.renderGymOptions()))),r.a.createElement("h5",{style:{flex:"1"},className:"text-center pt-1"},"OR"),r.a.createElement("button",{className:"btn btn-primary",style:this.props.screenSize>P?{flex:"1"}:{flex:"2"},onClick:function(){return e.setState({selectedGym:-1})}},this.props.screenSize<374?"New Gym":"Add New Gym")))}},{key:"renderLargeForm",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center mt-4"},"Gym Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of Gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street Address:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"17%"},className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"33%"},className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Enter the URL for a photo for this gym:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}}))));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},-1===this.state.selectedGym?t:null,this.state.selectedGym>0?r.a.createElement("h4",{className:"text-center my-4"},"Add an Open Mat at ",this.state.selectedGymName,":"):r.a.createElement("h4",{className:"text-center my-3"},"Open Mat Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openmat.day,onChange:function(t){var a=e.state.openmat;a.day=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Required",type:"time",id:"time",value:this.state.openmat.time,onChange:function(t){var a=e.state.openmat;a.time=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"(optional)",id:"cost",value:this.state.openmat.cost,onChange:function(t){var a=e.state.openmat;a.cost=t.target.value,e.setState({openmat:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openmat.call_first,onChange:function(t){var a=e.state.openmat;a.call_first=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes"))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openmat.size,onChange:function(t){var a=e.state.openmat;a.size=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:"S"},"Small (Less than 10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openmat.gi_nogi,onChange:function(t){var a=e.state.openmat;a.gi_nogi=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openmat.notes,onChange:function(t){var a=e.state.openmat;a.notes=t.target.value,e.setState({openmat:a})}})),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))}},{key:"renderMediumForm",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center mt-4"},"Gym Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of Gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street Address:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"17%"},className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"33%"},className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Enter the URL for a photo for this gym:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}}))));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},-1===this.state.selectedGym?t:null,this.state.selectedGym>0?r.a.createElement("h4",{className:"text-center my-4"},"Add an Open Mat at ",this.state.selectedGymName,":"):r.a.createElement("h4",{className:"text-center my-3"},"Open Mat Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openmat.day,onChange:function(t){var a=e.state.openmat;a.day=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Required",type:"time",id:"time",value:this.state.openmat.time,onChange:function(t){var a=e.state.openmat;a.time=t.target.value,e.setState({openmat:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"(optional)",id:"cost",value:this.state.openmat.cost,onChange:function(t){var a=e.state.openmat;a.cost=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openmat.call_first,onChange:function(t){var a=e.state.openmat;a.call_first=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes")))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openmat.size,onChange:function(t){var a=e.state.openmat;a.size=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:"S"},"Small (Less than 10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openmat.gi_nogi,onChange:function(t){var a=e.state.openmat;a.gi_nogi=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openmat.notes,onChange:function(t){var a=e.state.openmat;a.notes=t.target.value,e.setState({openmat:a})}})),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))}},{key:"renderSmallForm",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center mt-4"},"Details of New Gym:"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"Enter name of gym",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter street address (optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"Enter City",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose State"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter phone (optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Photo URL:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter photo url (optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}})));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},-1===this.state.selectedGym?t:null,this.state.selectedGym>0?r.a.createElement("h4",{className:"text-center mt-4"},"Add an Open Mat at ",this.state.selectedGymName,":"):r.a.createElement("h4",{className:"text-center my-3"},"Open Mat Details:"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openmat.day,onChange:function(t){var a=e.state.openmat;a.day=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose day of the week"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",type:"time",id:"time",value:this.state.openmat.time,onChange:function(t){var a=e.state.openmat;a.time=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"Enter Cost",id:"cost",value:this.state.openmat.cost,onChange:function(t){var a=e.state.openmat;a.cost=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openmat.call_first,onChange:function(t){var a=e.state.openmat;a.call_first=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Call first?"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openmat.size,onChange:function(t){var a=e.state.openmat;a.size=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Size"),r.a.createElement("option",{value:"S"},"Small (0-10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openmat.gi_nogi,onChange:function(t){var a=e.state.openmat;a.gi_nogi=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Gi or Nogi"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openmat.notes,onChange:function(t){var a=e.state.openmat;a.notes=t.target.value,e.setState({openmat:a})}})),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))}},{key:"renderForm",value:function(){return this.state.selectedGym?this.props.screenSize>P?this.renderLargeForm():this.props.screenSize>V?this.renderMediumForm():this.renderSmallForm():null}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"my-5 text-center display-4"},this.props.screenSize>V?"Add a New Open Mat":"Add New Open Mat"),this.renderSelectGymButton(),this.renderForm())}}]),t}(r.a.Component),xe=Object(s.b)((function(e){return{screenSize:e.screenSize,newMatId:e.newMatId,gyms:e.gyms}}),{createOpenmat:x,createGym:F,resetMatId:M,getGyms:k})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(we)),Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={gym:{name:"",street:"",city:"",state:"",phone:"",photo:"",lat:"",lng:""},openmat:{day:"",time:"",cost:"",call_first:"",size:"",gi_nogi:"",notes:""},selectedGym:0,selectedGymName:""},a.onFormSubmit=function(e){(e.preventDefault(),-1===a.state.selectedGym)?(new window.google.maps.Geocoder).geocode({address:"".concat(a.state.gym.street,", ").concat(a.state.gym.city,", ").concat(a.state.gym.state)},(function(e,t){if("OK"===t){var n=a.state.gym;n.lat=e[0].geometry.location.lat(),n.lng=e[0].geometry.location.lng(),a.setState({gym:n}),a.props.createGym(a.state.gym,a.state.openmat)}else alert("Error with finding location - please check street address and city")})):a.props.createOpenmat(Object(y.a)({},a.state.openmat,{gym_id:a.state.selectedGym}));var t=setInterval((function(){a.props.newMatId&&(a.props.history.push("/openmats/".concat(a.props.newMatId)),a.props.resetMatId(),clearInterval(t))}),20)},a.onSelectedGymChange=function(e){a.setState({selectedGym:parseInt(e.target.value)}),a.props.gyms.forEach((function(t){t.id===parseInt(e.target.value)&&a.setState({selectedGymName:t.name})}))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="OpenMats.org | Add New Open Mat",this.props.getGyms(),this.setState({selectedGym:parseInt(this.props.match.params.id)}),this.props.gyms.forEach((function(t){t.id===parseInt(e.props.match.params.id)&&e.setState({selectedGymName:t.name})}))}},{key:"renderGymOptions",value:function(){if(this.props.gyms)return this.props.gyms.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},"".concat(e.city,", ").concat(e.state," -  ").concat(e.name))}))}},{key:"renderSelectGymButton",value:function(){var e=this;return r.a.createElement("div",{className:"mx-auto",style:this.props.screenSize>P?{width:"70%"}:{width:"100%"}},r.a.createElement("div",{className:"d-flex align-items-start justify-content-around"},r.a.createElement("form",{style:this.props.screenSize>P?{flex:"2"}:{flex:"3"},className:"",onSubmit:function(e){return e.preventDefault()},autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{required:!0,className:"form-control",type:"text",id:"chooseGym",value:this.state.selectedGym,onChange:function(t){e.onSelectedGymChange(t)}},r.a.createElement("option",{value:0,disabled:!0,defaultValue:!0},this.props.screenSize<500?"Existing Gym":"Choose An Existing Gym"),r.a.createElement("option",{value:-1},"Add A New Gym"),this.renderGymOptions()))),r.a.createElement("h5",{style:{flex:"1"},className:"text-center pt-1"},"OR"),r.a.createElement("button",{className:"btn btn-primary",style:this.props.screenSize>P?{flex:"1"}:{flex:"2"},onClick:function(){return e.setState({selectedGym:-1})}},this.props.screenSize<374?"New Gym":"Add New Gym")))}},{key:"renderLargeForm",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center mt-4"},"Gym Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of Gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street Address:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"17%"},className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"33%"},className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Enter the URL for a photo for this gym:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}}))));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},-1===this.state.selectedGym?t:null,this.state.selectedGym>0?r.a.createElement("h4",{className:"text-center my-4"},"Add an Open Mat at ",this.state.selectedGymName,":"):r.a.createElement("h4",{className:"text-center my-3"},"Open Mat Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openmat.day,onChange:function(t){var a=e.state.openmat;a.day=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Required",type:"time",id:"time",value:this.state.openmat.time,onChange:function(t){var a=e.state.openmat;a.time=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"(optional)",id:"cost",value:this.state.openmat.cost,onChange:function(t){var a=e.state.openmat;a.cost=t.target.value,e.setState({openmat:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openmat.call_first,onChange:function(t){var a=e.state.openmat;a.call_first=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes"))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openmat.size,onChange:function(t){var a=e.state.openmat;a.size=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:"S"},"Small (Less than 10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openmat.gi_nogi,onChange:function(t){var a=e.state.openmat;a.gi_nogi=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openmat.notes,onChange:function(t){var a=e.state.openmat;a.notes=t.target.value,e.setState({openmat:a})}})),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))}},{key:"renderMediumForm",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center mt-4"},"Gym Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of Gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street Address:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"17%"},className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"33%"},className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Enter the URL for a photo for this gym:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}}))));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},-1===this.state.selectedGym?t:null,this.state.selectedGym>0?r.a.createElement("h4",{className:"text-center my-4"},"Add an Open Mat at ",this.state.selectedGymName,":"):r.a.createElement("h4",{className:"text-center my-3"},"Open Mat Details:"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openmat.day,onChange:function(t){var a=e.state.openmat;a.day=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Required",type:"time",id:"time",value:this.state.openmat.time,onChange:function(t){var a=e.state.openmat;a.time=t.target.value,e.setState({openmat:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"(optional)",id:"cost",value:this.state.openmat.cost,onChange:function(t){var a=e.state.openmat;a.cost=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openmat.call_first,onChange:function(t){var a=e.state.openmat;a.call_first=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes")))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openmat.size,onChange:function(t){var a=e.state.openmat;a.size=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:"S"},"Small (Less than 10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openmat.gi_nogi,onChange:function(t){var a=e.state.openmat;a.gi_nogi=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openmat.notes,onChange:function(t){var a=e.state.openmat;a.notes=t.target.value,e.setState({openmat:a})}})),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))}},{key:"renderSmallForm",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center mt-4"},"Details of New Gym:"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"Enter name of gym",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter street address (optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"Enter City",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose State"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter phone (optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Photo URL:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter photo url (optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}})));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},-1===this.state.selectedGym?t:null,this.state.selectedGym>0?r.a.createElement("h4",{className:"text-center my-4"},"Add an Open Mat at ",this.state.selectedGymName,":"):r.a.createElement("h4",{className:"text-center my-3"},"Open Mat Details:"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openmat.day,onChange:function(t){var a=e.state.openmat;a.day=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose day of the week"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",type:"time",id:"time",value:this.state.openmat.time,onChange:function(t){var a=e.state.openmat;a.time=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"Enter Cost",id:"cost",value:this.state.openmat.cost,onChange:function(t){var a=e.state.openmat;a.cost=t.target.value,e.setState({openmat:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openmat.call_first,onChange:function(t){var a=e.state.openmat;a.call_first=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Call first?"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openmat.size,onChange:function(t){var a=e.state.openmat;a.size=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Size"),r.a.createElement("option",{value:"S"},"Small (0-10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openmat.gi_nogi,onChange:function(t){var a=e.state.openmat;a.gi_nogi=t.target.value,e.setState({openmat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Gi or Nogi"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openmat.notes,onChange:function(t){var a=e.state.openmat;a.notes=t.target.value,e.setState({openmat:a})}})),r.a.createElement("button",{className:"btn btn-primary"},"Submit")))}},{key:"renderForm",value:function(){return this.state.selectedGym?this.props.screenSize>P?this.renderLargeForm():this.props.screenSize>V?this.renderMediumForm():this.renderSmallForm():null}},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-5"},this.renderForm())}}]),t}(r.a.Component),Ce=Object(s.b)((function(e){return{screenSize:e.screenSize,newMatId:e.newMatId,gyms:e.gyms}}),{createOpenmat:x,createGym:F,resetMatId:M,getGyms:k})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(Me)),Oe=function(){var e=new Date;return e.setHours(e.getHours()-7),e.toISOString().slice(0,19).replace("T"," ")},ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={openMat:{day:"",time:"",cost:"",call_first:"",size:"",gi_nogi:"",notes:""}},a.matDetailsSetToState=!1,a.onFormSubmit=function(e){e.preventDefault(),a.props.updateOpenmat(Object(y.a)({},a.state.openMat,{id:a.props.matDetails.id,last_updated_by:a.props.user.id,last_updated:Oe()})),a.props.history.push("/openmats/".concat(a.props.matDetails.id));var t=setInterval((function(){a.props.newMatId&&(a.props.history.push("/openmats/".concat(a.props.newMatId)),a.props.resetMatId(),clearInterval(t))}),20)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | Edit",this.props.showOpenmat(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){if("OpenMats.org | Edit"===document.title&&this.props.matDetails&&this.props.matDetails.name&&(document.title="OpenMats.org | Edit ".concat(this.props.matDetails.name)),!this.matDetailsSetToState&&this.props.matDetails&&this.props.matDetails.id===this.props.match.params.id){var e={};for(var t in this.state.openMat)this.props.matDetails[t]?e[t]=this.props.matDetails[t]:e[t]="";this.setState({openMat:e}),this.matDetailsSetToState=!0}}},{key:"renderLargeForm",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openMat.day,onChange:function(t){var a=e.state.openMat;a.day=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Required",type:"time",id:"time",value:this.state.openMat.time,onChange:function(t){var a=e.state.openMat;a.time=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"(optional)",id:"cost",value:this.state.openMat.cost,onChange:function(t){var a=e.state.openMat;a.cost=t.target.value,e.setState({openMat:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openMat.call_first,onChange:function(t){var a=e.state.openMat;a.call_first=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes"))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openMat.size,onChange:function(t){var a=e.state.openMat;a.size=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:"S"},"Small (Less than 10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{style:{flexBasis:"30%"},className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openMat.gi_nogi,onChange:function(t){var a=e.state.openMat;a.gi_nogi=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openMat.notes,onChange:function(t){var a=e.state.openMat;a.notes=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ue,{gymId:this.props.matDetails.gym_id,buttonText:"Edit This Gym"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-4"},"Submit"))))}},{key:"renderMediumForm",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openMat.day,onChange:function(t){var a=e.state.openMat;a.day=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",placeholder:"Required",type:"time",id:"time",value:this.state.openMat.time,onChange:function(t){var a=e.state.openMat;a.time=t.target.value,e.setState({openMat:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"(optional)",id:"cost",value:this.state.openMat.cost,onChange:function(t){var a=e.state.openMat;a.cost=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openMat.call_first,onChange:function(t){var a=e.state.openMat;a.call_first=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes")))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openMat.size,onChange:function(t){var a=e.state.openMat;a.size=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:"S"},"Small (Less than 10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{style:{flexBasis:"45%"},className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openMat.gi_nogi,onChange:function(t){var a=e.state.openMat;a.gi_nogi=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(optional)"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openMat.notes,onChange:function(t){var a=e.state.openMat;a.notes=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ue,{gymId:this.props.matDetails.gym_id,buttonText:"Edit This Gym"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-4"},"Submit"))))}},{key:"renderSmallForm",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"day"},"Day of the week:"),r.a.createElement("select",{required:!0,className:"form-control",id:"day",value:this.state.openMat.day,onChange:function(t){var a=e.state.openMat;a.day=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose day of the week"),me.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{required:!0,className:"form-control",type:"time",id:"time",value:this.state.openMat.time,onChange:function(t){var a=e.state.openMat;a.time=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{className:"form-control",type:"number",placeholder:"Enter Cost",id:"cost",value:this.state.openMat.cost,onChange:function(t){var a=e.state.openMat;a.cost=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"call_first"},"Should people call first?"),r.a.createElement("select",{className:"form-control",id:"call_first",value:this.state.openMat.call_first,onChange:function(t){var a=e.state.openMat;a.call_first=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Call first?"),r.a.createElement("option",{value:0},"No need, just show up!"),r.a.createElement("option",{value:1},"Yes"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"How many people are usually there?"),r.a.createElement("select",{className:"form-control",id:"size",value:this.state.openMat.size,onChange:function(t){var a=e.state.openMat;a.size=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Size"),r.a.createElement("option",{value:"S"},"Small (0-10 people)"),r.a.createElement("option",{value:"M"},"Medium (10-20 people)"),r.a.createElement("option",{value:"L"},"Large (20-30 people)"),r.a.createElement("option",{value:"XL"},"Huge (30+ people)"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"gi_nogi"},"Gi or Nogi:"),r.a.createElement("select",{className:"form-control",id:"gi_nogi",value:this.state.openMat.gi_nogi,onChange:function(t){var a=e.state.openMat;a.gi_nogi=t.target.value,e.setState({openMat:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Gi or Nogi"),r.a.createElement("option",{value:1},"Gi"),r.a.createElement("option",{value:2},"Nogi"),r.a.createElement("option",{value:3},"Both"),r.a.createElement("option",{value:4},"Alternates"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Anything we should know first?",id:"notes",value:this.state.openMat.notes,onChange:function(t){var a=e.state.openMat;a.notes=t.target.value,e.setState({openMat:a})}})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(ue,{gymId:this.props.matDetails.gym_id,buttonText:"Edit This Gym"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-4"},"Submit"))))}},{key:"renderForm",value:function(){return this.state.openMat&&this.state.openMat.day?this.props.screenSize>P?this.renderLargeForm():this.props.screenSize>V?this.renderMediumForm():this.renderSmallForm():null}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"my-5 text-center display-4"},"Edit Open Mat"),this.renderForm())}}]),t}(r.a.Component),Fe=Object(s.b)((function(e){return{screenSize:e.screenSize,newMatId:e.newMatId,matDetails:e.matDetails,user:e.user}}),{showOpenmat:C,updateOpenmat:function(e){return function(t){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.awrap(N.a.put("/api/openmats/".concat(e.id),e));case 2:return t.abrupt("return",{payload:e.id,type:"UPDATE_OPENMAT"});case 3:case"end":return t.stop()}}))}},resetMatId:M})(ke),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={gym:{name:"",street:"",city:"",state:"",phone:"",photo:"",website:"",lat:"",lng:""}},a.gymDetailsSetToState=!1,a.onFormSubmit=function(e){(e.preventDefault(),a.state.gym.street!==a.props.gym[0].street||a.state.gym.city!==a.props.gym[0].city||a.state.gym.state!==a.props.gym[0].state)?(new window.google.maps.Geocoder).geocode({address:"".concat(a.state.gym.street,", ").concat(a.state.gym.city,", ").concat(a.state.gym.state)},(function(e,t){if("OK"===t){var n=a.state.gym;n.lat=e[0].geometry.location.lat(),n.lng=e[0].geometry.location.lng(),a.setState({gym:n}),a.props.updateGym(Object(y.a)({},a.state.gym,{id:a.props.gym[0].gym_id}))}else alert("Error with finding location - please check street address and city")})):a.props.updateGym(Object(y.a)({},a.state.gym,{id:a.props.gym[0].gym_id}));var t=setInterval((function(){a.props.newMatId&&(a.props.history.push("/gyms/".concat(a.props.gym[0].gym_id)),a.props.resetMatId(),clearInterval(t))}),20)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){document.title="OpenMats.org | Edit",this.props.showGym(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){if("OpenMats.org | Edit"===document.title&&this.props.gym&&this.props.gym[0].name&&(document.title="OpenMats.org | Edit ".concat(this.props.gym[0].name)),!this.gymDetailsSetToState&&this.props.gym&&this.props.gym[0].gym_id===parseInt(this.props.match.params.id)){var e={};for(var t in this.state.gym)this.props.gym[0][t]?e[t]=this.props.gym[0][t]:e[t]="";this.setState({gym:e}),this.gymDetailsSetToState=!0}}},{key:"renderLargeForm",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of Gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street Address:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"17%"},className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"33%"},className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Enter the URL of a photo for this gym:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(he,{createdBy:this.props.gym[0].gym_created_by,gym:this.props.gym[0]}),r.a.createElement("button",{className:"btn btn-primary"},"Submit"))))}},{key:"renderMediumForm",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of Gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street Address:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"(required)",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"17%"},className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"(required)"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:{flexBasis:"33%"},className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{style:{flexBasis:"40%"},className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{style:{flexBasis:"55%"},className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Enter the URL of a photo for this gym:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(he,{createdBy:this.props.gym[0].gym_created_by,gym:this.props.gym[0]}),r.a.createElement("button",{className:"btn btn-primary"},"Submit"))))}},{key:"renderSmallForm",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)},autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name of gym:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"Enter name of gym",id:"name",value:this.state.gym.name,onChange:function(t){var a=e.state.gym;a.name=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter street address (optional)",id:"street",value:this.state.gym.street,onChange:function(t){var a=e.state.gym;a.street=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"City"},"City:"),r.a.createElement("input",{required:!0,className:"form-control",type:"text",placeholder:"Enter City",id:"city",value:this.state.gym.city,onChange:function(t){var a=e.state.gym;a.city=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("select",{required:!0,className:"form-control",id:"state",value:this.state.gym.state,onChange:function(t){var a=e.state.gym;a.state=t.target.value,e.setState({gym:a})}},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose State"),Se.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Phone:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter phone (optional)",id:"phone",value:this.state.gym.phone,onChange:function(t){var a=e.state.gym;a.phone=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"website"},"Website:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"(optional)",id:"website",value:this.state.gym.website,onChange:function(t){var a=e.state.gym;a.website=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"photo"},"Photo URL:"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter photo url (optional)",id:"photo",value:this.state.gym.photo,onChange:function(t){var a=e.state.gym;a.photo=t.target.value,e.setState({gym:a})}})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(he,{createdBy:this.props.gym[0].gym_created_by,gym:this.props.gym[0]}),r.a.createElement("button",{className:"btn btn-primary"},"Submit"))))}},{key:"renderForm",value:function(){return this.props.gym&&this.props.gym[0].name?this.props.screenSize>P?this.renderLargeForm():this.props.screenSize>V?this.renderMediumForm():this.renderSmallForm():null}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"my-5 text-center display-4"},"Edit Gym"),this.renderForm())}}]),t}(r.a.Component),Ge=Object(s.b)((function(e){return{screenSize:e.screenSize,gym:e.gymDetails,user:e.user,newMatId:e.newMatId}}),{showGym:j,updateGym:function(e){return function(t){return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(N.a.put("/api/gyms/".concat(e.id),e));case 2:a.sent,t({payload:e.id,type:"UPDATE_GYM"});case 4:case"end":return a.stop()}}))}},resetMatId:M})(Object(A.GoogleApiWrapper)({apiKey:"AIzaSyCqDsKh4XV7nMMG9tIJVinp_t5M28Gt9Hs"})(je)),_e=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("hr",null),"Incorrect username or password. Please click ",r.a.createElement("button",{className:"button-link",onClick:function(){return e.props.openModal("login",!0)}},"here")," to try again.")}}]),t}(r.a.Component),Ae=Object(s.b)(null,{openModal:S})(_e),ze=(a(126),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){e.props.screenResize(window.innerWidth)})),this.props.fetchUser(),this.props.screenResize(window.innerWidth)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(f.a,null,r.a.createElement(g.a,{path:"/",component:Y}),r.a.createElement(g.a,{path:"/",exact:!0,component:Z}),r.a.createElement(g.a,{path:"/about",exact:!0,component:$}),r.a.createElement(g.a,{path:"/allgyms",exact:!0,component:ae}),r.a.createElement(g.a,{path:"/failedLogin",exact:!0,component:Ae}),r.a.createElement(g.a,{path:"/advancedSearch",exact:!0,component:ie}),r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/gyms/:id",exact:!0,component:Ne}),r.a.createElement(g.a,{path:"/gyms/:id/edit",exact:!0,component:Ge})),r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/openmats",exact:!0,component:oe}),r.a.createElement(g.a,{path:"/openmats/new",exact:!0,component:xe}),r.a.createElement(g.a,{path:"/openmats/:id",exact:!0,component:ye}),r.a.createElement(g.a,{path:"/openmats/:id/edit",exact:!0,component:Fe}),r.a.createElement(g.a,{path:"/openmats/:id/new",exact:!0,component:Ce})))))}}]),t}(r.a.Component)),De=Object(s.b)((function(e){return{user:e.user}}),{fetchUser:function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(N.a.get("/auth/current_user"));case 2:t=a.sent,e({type:"FETCH_USER",payload:t});case 4:case"end":return a.stop()}}))}},screenResize:function(e){return{type:"SCREEN_RESIZE",payload:e}}})(ze),Ie=Object(m.c)({screenSize:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SCREEN_RESIZE":return t.payload;default:return e}},totals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mats:0,gyms:0,states:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TOTALS":return t.payload.data?t.payload.data:{mats:0,gyms:0,states:0};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return!!t.payload.data&&t.payload.data;default:return e}},openModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{login:!1,signup:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return"login"===t.payload[0]?!1===t.payload[1]?{login:!1,signup:!1,delete:!1}:{login:!0,signup:!1,delete:!1}:"signup"===t.payload[0]?!1===t.payload[1]?{login:!1,signup:!1,delete:!1}:{login:!1,signup:!0,delete:!1}:!1===t.payload[1]?{login:!1,signup:!1,delete:!1}:{login:!1,signup:!1,delete:!0};default:return e}},refreshMap:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_MAP":return t.payload;default:return e}},infoWindow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFO_WINDOW":return t.payload;default:return e}},searchOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_OPTIONS":return t.payload;default:return e}},openMats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_OPENMATS":return void 0===t.payload?e:t.payload;default:return e}},newMatId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_OPENMAT":case"UPDATE_OPENMAT":case"UPDATE_GYM":return t.payload;case"RESET_MAT_ID":return null;default:return e}},matDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_OPENMAT":case"CLEAR_PREVIOUS":return t.payload;default:return e}},gyms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_GYMS":return void 0===t.payload?e:t.payload;default:return e}},gymDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_GYM":case"CLEAR_PREVIOUS":return t.payload;default:return e}}}),Be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,Te=Object(m.e)(Ie,Be(Object(m.a)(c.a)));o.a.render(r.a.createElement(s.a,{store:Te},r.a.createElement(De,null)),document.querySelector("#root"))},81:function(e,t,a){e.exports=a(127)}},[[81,1,2]]]);
//# sourceMappingURL=main.dc7c4191.chunk.js.map